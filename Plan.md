# План тестирования форм покупки тура

## Перечень автоматизируемых сценариев

### Сценарии доступа к формам

#### Сценарий 1. Навигация к форме покупки с дебетовой карты
1. Нажать на кнопку "Купить".
    - Ожидаемый результат: Появляется форма с названием Оплата по карте

#### Сценарий 2. Навигация к форме покупки с кредитной карты
1. Нажать на кнопку "Купить в кредит".
    - Ожидаемый результат: Появляется форма с названием Кредит по данным карты

### Сценарии оплаты дебетовой картой

#### Сценарий 3. Валидное заполнение формы
1. Заполнить поле карты валидным значением карты в формате XXXX XXXX XXXX XXXX (например, 1111 2222 3333 4444 - валидная карта, предоставленная разработчиками)
2. Заполнить поле месяца валидным значением в формате XX, принимаются только значения от 01 до 12 (наример, 02, сгеренерированное через java random)
3. Заполнить поле года валидным значением в формат XX, принимаются только значения от текущего года и позже (например 26, сгеренерированное через java random)
4. Заполнить поле владельца валидным значением на латиннице (например Vasya Pupkin, сгенерированное через Java Faker)
5. Заполнить поле CVC валидным значением формата XXX (например 958, сгеренерированное через java random)
6. Нажать на кнопку Продолжить
    - Ожидаемый результат: Появляется уведомление "Успешно Операция одобрена банком"

#### Сценарий 4. Declined карта
1. Заполнить поле карты невалидным значением карты в формате XXXX XXXX XXXX XXXX (например, 5555 6666 7777 8888 - declined карта, предоставленная разработчиками)
2. Заполнить поле месяца валидным значением в формате XX, принимаются только значения от 01 до 12 (наример, 02, сгеренерированное через java random)
3. Заполнить поле года валидным значением в формате XX, принимаются только значения от текущего года и позже (например 26, сгеренерированное через java random)
4. Заполнить поле владельца валидным значением на латиннице (например Vasya Pupkin, сгенерированное через Java Faker)
5. Заполнить поле CVC валидным значением формата XXX (например 958, сгеренерированное через java random)
6. Нажать на кнопку Продолжить
    - Ожидаемый результат: Появляется уведомление "Ошибка Ошибка! Банк отказал в проведении операции."

#### Сценарий 5. Невалидный формат карты
1. Заполнить поле карты невалидным значением карты в формате XXXX (наример, 2222, сгеренерированное через java random)
2. Заполнить поле месяца валидным значением в формате XX, принимаются только значения от 01 до 12 (наример, 02, сгеренерированное через java random)
3. Заполнить поле года валидным значением в формате XX, принимаются только значения от текущего года и позже (например 26, сгеренерированное через java random)
4. Заполнить поле владельца валидным значением на латиннице (например Vasya Pupkin, сгенерированное через Java Faker)
5. Заполнить поле CVC валидным значением формата XXX (например 958, сгеренерированное через java random)
6. Нажать на кнопку Продолжить
   - Ожидаемый результат: Под полем номера карты появляется сообщение об ошибке "Неверный формат"

#### Сценарий 6. Невалидный месяц действия карты
1. Заполнить поле карты валидным значением карты в формате XXXX XXXX XXXX XXXX (например, 1111 2222 3333 4444 - валидная карта, предоставленная разработчиками)
2. Заполнить поле месяца невалидным значением в формате XX, от 13 до 99 (наример, 24, сгеренерированное через java random)
3. Заполнить поле года валидным значением в формате XX, принимаются только значения от текущего года и позже (например 26, сгеренерированное через java random)
4. Заполнить поле владельца валидным значением на латиннице (например Vasya Pupkin, сгенерированное через Java Faker)
5. Заполнить поле CVC валидным значением формата XXX (например 958, сгеренерированное через java random)
6. Нажать на кнопку Продолжить
   - Ожидаемый результат: Под полем месяца появляется сообщение об ошибке "Неверно указан срок действия карты"

#### Сценарий 7. Невалидный год действия карты
1. Заполнить поле карты валидным значением карты в формате XXXX XXXX XXXX XXXX (например, 1111 2222 3333 4444 - валидная карта, предоставленная разработчиками)
2. Заполнить поле месяца валидным значением в формате XX, принимаются только значения от 01 до 12 (наример, 02, сгеренерированное через java random)
3. Заполнить поле года невалидным значением в формате XX, от 01 до прошлого года (например 20, сгеренерированное через java random)
4. Заполнить поле владельца валидным значением на латиннице (например Vasya Pupkin, сгенерированное через Java Faker)
5. Заполнить поле CVC валидным значением формата XXX (например 958, сгеренерированное через java random)
6. Нажать на кнопку Продолжить
   - Ожидаемый результат: Под полем года появляется сообщение об ошибке "Истёк срок действия карты"

#### Сценарий 8. Невалидный формат владельца карты
1. Заполнить поле карты валидным значением карты в формате XXXX XXXX XXXX XXXX (например, 1111 2222 3333 4444 - валидная карта, предоставленная разработчиками)
2. Заполнить поле месяца валидным значением в формате XX, принимаются только значения от 01 до 12 (наример, 02, сгеренерированное через java random)
3. Заполнить поле года валидным значением в формат XX, принимаются только значения от текущего года и позже (например 26, сгеренерированное через java random)
4. Заполнить поле владельца невалидным значением на кириллице (например Вася Пупкин, сгенерированное через Java Faker)
5. Заполнить поле CVC валидным значением формата XXX (например 958, сгеренерированное через java random)
6. Нажать на кнопку Продолжить
   - Ожидаемый результат: Под полем владельца появляется сообщение об ошибке "Неверный формат"

#### Сценарий 9. Невалидный формат CVC
1. Заполнить поле карты валидным значением карты в формате XXXX XXXX XXXX XXXX (например, 1111 2222 3333 4444 - валидная карта, предоставленная разработчиками)
2. Заполнить поле месяца валидным значением в формате XX, принимаются только значения от 01 до 12 (наример, 02, сгеренерированное через java random)
3. Заполнить поле года валидным значением в формат XX, принимаются только значения от текущего года и позже (например 26, сгеренерированное через java random)
4. Заполнить поле владельца валидным значением на латиннице (например Vasya Pupkin, сгенерированное через Java Faker)
5. Заполнить поле CVC невалидным значением формата X (например 9, сгеренерированное через java random)
6. Нажать на кнопку Продолжить
   - Ожидаемый результат: Под полем CVC/CVV появляется сообщение об ошибке "Неверный формат"

#### Сценарий 10. Пустое поле карты
1. Оставить поле карты пустым
2. Заполнить поле месяца валидным значением в формате XX, принимаются только значения от 01 до 12 (наример, 02, сгеренерированное через java random)
3. Заполнить поле года валидным значением в формате XX, принимаются только значения от текущего года и позже (например 26, сгеренерированное через java random)
4. Заполнить поле владельца валидным значением на латиннице (например Vasya Pupkin, сгенерированное через Java Faker)
5. Заполнить поле CVC валидным значением формата XXX (например 958, сгеренерированное через java random)
6. Нажать на кнопку Продолжить
   - Ожидаемый результат: Под полем номера карты появляется сообщение об ошибке "Неверный формат"

#### Сценарий 11. Пустое поле месяца действия карты
1. Заполнить поле карты валидным значением карты в формате XXXX XXXX XXXX XXXX (например, 1111 2222 3333 4444 - валидная карта, предоставленная разработчиками)
2. Оставить поле месяца пустым
3. Заполнить поле года валидным значением в формате XX, принимаются только значения от текущего года и позже (например 26, сгеренерированное через java random)
4. Заполнить поле владельца валидным значением на латиннице (например Vasya Pupkin, сгенерированное через Java Faker)
5. Заполнить поле CVC валидным значением формата XXX (например 958, сгеренерированное через java random)
6. Нажать на кнопку Продолжить
   - Ожидаемый результат: Под полем месяца появляется сообщение об ошибке "Неверный формат"

#### Сценарий 12. Пустое поле года действия карты
1. Заполнить поле карты валидным значением карты в формате XXXX XXXX XXXX XXXX (например, 1111 2222 3333 4444 - валидная карта, предоставленная разработчиками)
2. Заполнить поле месяца валидным значением в формате X или XX, принимаются только значения от 1 до 12 (наример, 2, сгеренерированное через java random)
3. Оставить поле года пустым
4. Заполнить поле владельца валидным значением на латиннице (например Vasya Pupkin, сгенерированное через Java Faker)
5. Заполнить поле CVC валидным значением формата XXX (например 958, сгеренерированное через java random)
6. Нажать на кнопку Продолжить
   - Ожидаемый результат: Под полем года появляется сообщение об ошибке "Неверный формат"

#### Сценарий 13. Пустое поле владельца карты
1. Заполнить поле карты валидным значением карты в формате XXXX XXXX XXXX XXXX (например, 1111 2222 3333 4444 - валидная карта, предоставленная разработчиками)
2. Заполнить поле месяца валидным значением в формате XX, принимаются только значения от 01 до 12 (наример, 02, сгеренерированное через java random)
3. Заполнить поле года валидным значением в формат XX, принимаются только значения от текущего года и позже (например 26, сгеренерированное через java random)
4. Оставить поле владельца пустым
5. Заполнить поле CVC валидным значением формата XXX (например 958, сгеренерированное через java random)
6. Нажать на кнопку Продолжить
   - Ожидаемый результат: Под полем владельца появляется сообщение об ошибке "Поле обязательно для заполнения"

#### Сценарий 14. Пустое поле CVC/CVV
1. Заполнить поле карты валидным значением карты в формате XXXX XXXX XXXX XXXX (например, 1111 2222 3333 4444 - валидная карта, предоставленная разработчиками)
2. Заполнить поле месяца валидным значением в формате XX, принимаются только значения от 01 до 12 (наример, 02, сгеренерированное через java random)
3. Заполнить поле года валидным значением в формат XX, принимаются только значения от текущего года и позже (например 26, сгеренерированное через java random)
4. Заполнить поле владельца валидным значением на латиннице (например Vasya Pupkin, сгенерированное через Java Faker)
5. Оставить поле CVC/CVV пустыми
6. Нажать на кнопку Продолжить
   - Ожидаемый результат: Под полем CVC/CVV появляется сообщение об ошибке "Неверный формат"

## Перечень используемых инструментов

- **IntelliJ IDEA**  
  Мощная интегрированная среда разработки, оптимизированная для работы с Java. В данном проекте используется для написания и отладки автотестов, управления зависимостями через Gradle, а также интеграции с тестовыми фреймворками (например, JUnit и Selenide).

- **JDK (Java Development Kit)**  
  Основной инструмент разработки и выполнения Java-приложений. В проекте необходим для запуска тестов, компиляции кода и генерации отчетов.

- **Gradle**  
  Инструмент автоматизации сборки, используемый для управления зависимостями, настройки тестовых задач и выполнения автотестов в CI/CD процессах. Позволяет быстро адаптировать проект под новые требования.

- **JavaFaker**  
  Библиотека генерации тестовых данных. В рамках проекта используется для создания реалистичных данных (например, номеров карт, имен владельцев) для обеспечения качественного тестирования и снижения риска использования устаревших данных.

- **JUnit Jupiter**  
  Фреймворк для написания и выполнения модульных и интеграционных тестов. Применяется для проверки ожидаемых результатов автотестов, поддержки ассертов и гибкой настройки тестовых сценариев.

- **Selenide**  
  Библиотека автоматизации пользовательских интерфейсов. Используется для написания сценариев взаимодействия с формами покупки, обеспечивая надежное выполнение тестов в различных браузерах и простую отладку.

- **Lombok**  
  Утилита для сокращения шаблонного кода в Java-классов. Применяется для повышения читаемости и уменьшения количества кода в проекте (например, автоматическое создание геттеров, сеттеров, конструкторов).

- **Allure**  
  Инструмент визуализации отчетов о тестировании. В проекте используется для генерации удобных для анализа отчетов, включающих результаты прохождения автотестов, шаги и скриншоты ошибок.

- **Appveyor CI**  
  Платформа для непрерывной интеграции и развертывания. Применяется для автоматического запуска тестов, генерации отчетов и проверки корректности изменений в коде.

## Перечень и описание возможных рисков при автоматизации

1. **Изменение структуры страницы**
   - **Риск**: Поломка тестов из-за изменений в DOM-структуре (например, обновление полей формы).
   - **Митигирующие действия**: Использование устойчивых локаторов (XPath, CSS-селекторов) и регулярное обновление тестов при изменениях.

2. **Неполный охват тестами**
   - **Риск**: Пропуск важных сценариев, что может привести к некорректной работе форм в реальных условиях.
   - **Митигирующие действия**: Постоянный пересмотр и обновление списка тест-кейсов, анализ покрытия функционала.

3. **Сложность поддержки тестов**
   - **Риск**: Увеличение времени на обновление тестов из-за большого объема шаблонного или плохо документированного кода.
   - **Митигирующие действия**: Использование шаблонов проектирования, написание документации и структурирование тестового кода.

4. **Ошибки в тестовых данных**
   - **Риск**: Использование некорректных, устаревших или невалидных данных в тестах.
   - **Митигирующие действия**: Автоматизация генерации данных через JavaFaker и Java Random, регулярная проверка данных на актуальность.

5. **Непредвиденные ошибки в окружении**
   - **Риск**: Проблемы с конфигурацией CI/CD, зависимость от внешних сервисов.
   - **Митигирующие действия**: Регулярное тестирование инфраструктуры, резервные копии конфигураций, мониторинг состояния окружения.

## Интервальная оценка с учетом рисков в часах

- **Подготовка инфраструктуры (CI/CD, окружение)**: 3–6 часов  
  Учет времени на настройку Appveyor CI, интеграцию Allure и Gradle.

- **Написание автотестов (включая позитивные и негативные кейсы)**: 10–18 часов  
  Включает разработку, настройку генерации данных через JavaFaker и валидацию всех сценариев.

- **Тестирование, отладка и документирование**: 7–12 часов  
  Включает анализ результатов, исправление ошибок в тестах и создание отчетов.

**Общая оценка**: 20–36 часов.

## План сдачи работ

1. **Автотесты**: Завершение разработки и выполнения тестов до **25 января**.
2. **Результаты тестирования**: Представление отчета о прохождении тестов, включая Allure-отчеты, до **27 января**.
3. **Отчет по автоматизации**: Полный отчет по проведенной работе с указанием используемых инструментов, покрытых сценариев и выявленных ошибок — до **29 января**.
