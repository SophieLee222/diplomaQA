# Diploma QA

## Курсовой проект: Автоматизация тестирования веб-сервиса

[Отчет по итогам тестирования](https://github.com/SophieLee222/diplomaQA/blob/master/docs/Report.md)

### Описание проекта
Веб-сервис предоставляет покупку туров двумя способами:
1. Оплата дебетовой картой.
2. Получение кредита по данным карты.

Приложение взаимодействует с банковскими сервисами:
- **Payment Gate** (платежи),
- **Credit Gate** (кредиты),  
  и сохраняет в СУБД только статус операции и способ оплаты (без данных карт).

### Техническая реализация
- Приложение: `aqa-shop.jar`, запуск — `java -jar aqa-shop.jar` (порт 8080).
- Поддерживаются базы данных: **MySQL** и **PostgreSQL**.
- Банковские сервисы: симулятор на сервере `185.119.57.197:9999`.

### Задача
Автоматизировать тестирование позитивных и негативных сценариев оплаты с использованием тестовых карт:
- **APPROVED**: `1111 2222 3333 4444`.
- **DECLINED**: `5555 6666 7777 8888`.

## Начало работы

Далее идет описание, как настроить и запустить проект на локальном компьютере.

Репозиторий проекта: [https://github.com/SophieLee222/diplomaQA](https://github.com/SophieLee222/diplomaQA)

### Prerequisites

Перед началом убедитесь, что на вашем компьютере установлены:

- **Git** — для клонирования репозитория.
- **Java Development Kit (JDK)** версии 11 или выше.
- **Docker** — для запуска базы данных MySQL.
- **Интегрированная среда разработки (IDE)**, например, IntelliJ IDEA.

### Установка и запуск

1. **Клонируйте репозиторий проекта.**
   Откройте терминал и выполните команду:
   ```bash
   git clone https://github.com/SophieLee222/diplomaQA.git
   ```
   Перейдите в папку проекта:
   ```bash
   cd diplomaQA
   ```

2. **Откройте проект в IntelliJ IDEA.**
    - Запустите IntelliJ IDEA.
    - Выберите `File -> Open`, укажите папку проекта `diplomaQA`.

4. **Запустите Docker и поднимите контейнер MySQL.**
   Убедитесь, что Docker запущен, затем выполните команду:
   ```bash
   docker-compose up
   ```
   Дождитесь запуска mysql контейнера. В последней строке логов в терминале будет прописано: _Plugin ready for connections_

5. **Запустите приложение.**
   В соседнем терминале выполните команду:
   ```bash
   java -jar ./artifacts/aqa-shop.jar
   ```
   Приложение будет доступно по адресу [http://localhost:8080](http://localhost:8080).

6. **Запустите тесты.**
   Для запуска всех тестов в соседнем терминале выполните команду:
   ```bash
   ./gradlew clean test
   ```
   Для Windows используйте:
   ```cmd
   gradlew.bat test
   ```

7. **Создайте Allure отчет.**
   Для создания нового Allure отчета в соседнем терминале выполните команду:
   ```bash
   ./gradlew allureReport
   ```

8. **Завершите работу**
   Для завершения работы контейнера в соседнем терминале выполните команду:
   ```bash
   docker-compose down
   ```
